<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Painel • Free Fire</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { background: #0B0F13; color: #fff; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
  .panel { max-width: 420px; margin: 18px auto; padding: 12px; }
  .card { background: #1A1F28; border-radius: 18px; padding: 14px 16px; display:flex; align-items:center; justify-content:space-between; gap:12px; box-shadow: 0 6px 18px rgba(0,0,0,0.45); }
  .card + .card { margin-top: 12px; }
  .meta { display:block; }
  .title { font-size:16px; font-weight:600; color: #ffffff; }
  .desc { font-size:13px; color: rgba(255,255,255,0.65); margin-top:4px; line-height:1.15; }
  .badge { width:42px; height:42px; border-radius:999px; border: 1.5px solid rgba(255,255,255,0.18); display:flex; align-items:center; justify-content:center; }
  .check { width:18px; height:18px; border-radius:999px; background:#34d399; opacity:0; transform:scale(.9); transition: all .18s ease; }
  .card[data-active="true"] { background: linear-gradient(180deg, rgba(52,211,153,0.06), rgba(52,211,153,0.02)); border: 1px solid rgba(52,211,153,0.12); }
  .card[data-active="true"] .check { opacity:1; transform:scale(1); }
  .card[data-active="false"] { filter: grayscale(.15); opacity:.9; }
  .big-btn { width:100%; height:56px; border-radius:999px; background:#fff; color:#000; font-weight:700; font-size:15px; margin-top:18px; border: none; box-shadow: 0 6px 18px rgba(0,0,0,0.45); }
  .hint { font-size:13px; color: rgba(255,255,255,0.55); text-align:center; margin-top:10px; }
</style>
</head>
<body>
  <main class="panel">
    <!-- Options list -->
    <div id="list">
      <div class="card" data-key="mira" data-active="false" role="button" tabindex="0" aria-pressed="false">
        <div>
          <span class="title">Melhorar Mira Scope</span>
          <span class="desc">Melhora a mira quando aberta.</span>
        </div>
        <div class="badge" aria-hidden="true"><span class="check"></span></div>
      </div>

      <div class="card" data-key="sens" data-active="false" role="button" tabindex="0" aria-pressed="false">
        <div>
          <span class="title">Calibrar Sensibilidade</span>
          <span class="desc">Melhora a sua sensibilidade.</span>
        </div>
        <div class="badge" aria-hidden="true"><span class="check"></span></div>
      </div>

      <div class="card" data-key="recuo" data-active="false" role="button" tabindex="0" aria-pressed="false">
        <div>
          <span class="title">Diminuir Recuo</span>
          <span class="desc">Diminui o recuo de qualquer arma.</span>
        </div>
        <div class="badge" aria-hidden="true"><span class="check"></span></div>
      </div>

      <div class="card" data-key="precisao" data-active="false" role="button" tabindex="0" aria-pressed="false">
        <div>
          <span class="title">Aumentar Precisão</span>
          <span class="desc">Aumenta a precisão de qualquer arma.</span>
        </div>
        <div class="badge" aria-hidden="true"><span class="check"></span></div>
      </div>
    </div>

    <!-- Big action button -->
    <button id="openApp" class="big-btn">Abrir Free Fire Normal</button>
    <p id="msg" class="hint">Toque numa opção para ativá-la. Em seguida, clique em "Abrir Free Fire".</p>
  </main>

<script>
/* Toggle behavior: each card is OFF (data-active="false") initially.
   When clicked (or Enter/Space), toggle to true — visual change handled by CSS.
*/
(function(){
  const cards = Array.from(document.querySelectorAll('.card'));
  const msg = document.getElementById('msg');

  function toggleCard(card){
    const isActive = card.getAttribute('data-active') === 'true';
    card.setAttribute('data-active', isActive ? 'false' : 'true');
    card.setAttribute('aria-pressed', (!isActive).toString());
  }

  // Click + keyboard handlers
  cards.forEach(c=>{
    c.addEventListener('click', ()=> toggleCard(c));
    c.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleCard(c); }
    });
  });

  // Open Free Fire button logic (Android/iOS fallback)
  const openBtn = document.getElementById('openApp');
  function isAndroid(){ return /Android/i.test(navigator.userAgent); }
  function isIOS(){ return /iPhone|iPad|iPod/i.test(navigator.userAgent); }

  const PLAY_URL = 'https://play.google.com/store/apps/details?id=com.dts.freefireth';
  const PLAY_URL_MAX = 'https://play.google.com/store/apps/details?id=com.dts.freefiremax';
  const IOS_URL = 'https://apps.apple.com/app/id1300146617';

  // Android: try intent then fallback Play Store
  function openAndroid() {
    // Try main package then MAX. If neither works, redirect to Play Store.
    const packages = ['com.dts.freefireth','com.dts.freefiremax'];
    // Attempt an intent for the first package (Chrome supports intent)
    const intent = `intent://open/#Intent;package=${packages[0]};end`;
    // If browser doesn't handle intent, fallback to Play Store after timeout
    let tried = false;
    const t = setTimeout(()=>{ if(!tried) window.location.href = PLAY_URL; }, 1200);
    window.location.href = intent;
    setTimeout(()=>{ tried = true; clearTimeout(t); }, 80);
  }

  // iOS: try scheme then App Store
  function openIOS() {
    const schemes = ['freefire://', 'garena://freefire'];
    let fired = false;
    const t = setTimeout(()=>{ if(!fired) window.location.href = IOS_URL; }, 1200);
    // Try each scheme with an iframe (stealth)
    (async ()=> {
      for(const s of schemes){
        const ifr = document.createElement('iframe');
        ifr.style.display='none';
        ifr.src = s;
        document.body.appendChild(ifr);
        await new Promise(r=>setTimeout(r, 150));
        try { document.body.removeChild(ifr); } catch(e){}
      }
      fired = true; clearTimeout(t);
    })();
  }

  // Generic click handler
  openBtn.addEventListener('click', ()=>{
    msg.textContent = 'Tentando abrir o app...';
    if(isAndroid()){
      openAndroid();
    } else if(isIOS()){
      openIOS();
    } else {
      // Desktop: open Play Store web
      window.open(PLAY_URL, '_blank');
      msg.textContent = 'Abrindo a página do Play Store no navegador.';
    }
  });

})();
</script>
</body>
</html>